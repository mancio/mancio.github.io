(this.webpackJsonpmanciotechweb=this.webpackJsonpmanciotechweb||[]).push([[18],{160:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(5),i=n(29),c=n(28),o=n(2),a=(n(160),n(0)),u=n(68),s=n(37),d=n(220),l=n(216),f=n(1);function h(){var e=Object(c.a)("back"),t=Object(a.useState)(null),n=Object(r.a)(t,2),h=n[0],b=n[1],p=Object(a.useState)(null),g=Object(r.a)(p,2),j=g[0],m=g[1],v=Object(a.useState)(!1),O=Object(r.a)(v,2),x=O[0],y=O[1],w=Object(a.useState)(!1),C=Object(r.a)(w,2),k=C[0],S=C[1],_=Object(a.useState)(!1),T=Object(r.a)(_,2),L=T[0],I=T[1],N=Object(o.g)().tag;function E(){S(!0),y(!1)}function F(){document.getElementById("media-error").insertAdjacentHTML("afterend","<div><p>Unable to get results, please try later</p></div>")}function R(e){m(e),y(!0),"netflix"!==N||k||Object(u.e)().then((function(){return E()})),"prime"!==N||k||Object(u.f)(N,"pl").then((function(){E()})).catch((function(){return F()})),"hbo"!==N||k||Object(u.f)(N,"us").then((function(){return E()})).catch((function(){return F()})),"themoviedb"!==N||k||Object(u.d)("PL").then((function(){return E()})).catch((function(){return F()})),b(e),k&&y(!1)}function U(){b(null),y(!1),S(!1),I(!0)}function q(e){return Object(f.jsx)("div",{className:"movie-card-grid",children:e.map((function(e){var t=Object(u.c)(e,N);return Object(f.jsx)("div",{children:Object(f.jsxs)(d.a,{className:"movie-card",children:[Object(f.jsx)(d.a.Img,{onClick:function(){return function(e,t,n){var r=Object(s.f)(Object(s.c)(e)+" trailer "+t+" "+n);window.open("https://www.youtube.com/results?search_query="+r,"_blank").focus()}(t.title,h,t.year)},variant:"top",src:t.img}),Object(f.jsxs)(d.a.Body,{children:[Object(f.jsx)(d.a.Title,{children:Object(s.c)(t.title)}),Object(f.jsx)(d.a.Text,{children:Object(s.c)(t.desc)})]}),Object(f.jsxs)(l.a,{variant:"flush",children:[Object(f.jsxs)(l.a.Item,{children:["IMBD Rating: ",t.rating]}),Object(f.jsxs)(l.a.Item,{children:["Year: ",t.year]})]})]})},t.id)}))})}return Object(a.useEffect)((function(){h||x||k||!L||(I(!1),R(j))}),[L]),Object(f.jsxs)("div",{className:"filter-platform",children:[Object(f.jsxs)("h1",{children:["Search Best show on ",N.toUpperCase()]}),Object(f.jsx)("button",{onClick:function(){return R("series")},children:"Series"}),Object(f.jsx)("button",{onClick:function(){return R("movies")},children:"Movies"}),h&&"themoviedb"===N&&Object(f.jsx)("button",{onClick:function(){return U()},children:"Refresh"}),x&&Object(f.jsx)("p",{children:"please wait"}),"series"===h&&k&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"Series List"}),q(u.g)]})}),"movies"===h&&k&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"Movies List"}),q(u.b)]})}),Object(f.jsx)("div",{id:"media-error"}),h&&"themoviedb"===N&&Object(f.jsx)("button",{onClick:function(){return U()},children:"Refresh"}),Object(f.jsx)(i.a,{id:e.id,width:e.width,height:e.height,svgColor:e.svgColor,textColor:e.textColor,textField:e.textField,icon:e.icon,iconColor:e.iconColor,tag:"platform"},e.id)]})}},37:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return u}));var r=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})).replace(/&quot;/g,"").replace(/&eacute;/g,"\xe9").replace(/&amp;/g,'"').replace(/&ldquo;/g,'"').replace(/&rdquo;/g,'"').replace(/&shy;/g,"-")},i=function(e){return encodeURI(e).replace(/&/gi,"%26")},c=function(){return"\n"},o=function(){return"\t"},a=function(e){return navigator.clipboard.writeText(e)},u=function(e,t){var n=document.createElement("a"),r=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return l}));var r="67b6d75b5174440288183e98d31300b6",i="service_rijuz4b",c="template_glf4e4e",o="user_5cffDNndYp5Lv2j1dOnPe",a="d1c59cf873msh4b26748b3661acbp111084jsn2a3596fb90a3",u="unogsng.p.rapidapi.com",s="streaming-availability.p.rapidapi.com",d="16b6cf28c0d65bd12befe3ce18853769",l="9a072cca30ac7c3ac75362d8edfd3199"},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return w}));var r=n(48),i=n(60),c=n.n(i),o=n(40),a=function(e){if(e.response.status){var t=e.response.status;429===t&&window.alert("Too many requests, please try later"),400===t&&window.alert("Not working")}else window.alert("Something got wrong")},u="#ffffff",s=[{id:Object(r.b)(),width:250,height:55,svgColor:"#bd1414",textColor:u,textField:"NETFLIX PL",icon:"TV",iconColor:"#bd1414",tag:"netflix"},{id:Object(r.b)(),width:250,height:55,svgColor:"#1224cd",textColor:u,textField:"HBO US",icon:"TV",iconColor:"#1224cd",tag:"hbo"},{id:Object(r.b)(),width:250,height:55,svgColor:"#ffa200",textColor:u,textField:"PRIME PL",icon:"TV",iconColor:"#ffa200",tag:"prime"},{id:Object(r.b)(),width:250,height:55,svgColor:"#1773ce",textColor:u,textField:"THE MOVIE DB",icon:"TV",iconColor:"#1773ce",tag:"themoviedb"}],d=function(){return s},l={method:"GET",url:"https://unogsng.p.rapidapi.com/search",params:{start_year:"2000",orderby:"dateDesc",audiosubtitle_andor:"and",start_rating:"7",limit:"100",subtitle:"english",audio:"english",offset:"0",end_year:"2021"},headers:{"x-rapidapi-host":o.h,"x-rapidapi-key":o.c}},f={method:"GET",url:"https://streaming-availability.p.rapidapi.com/search/basic",params:{country:"pl",service:"",type:"",page:"1",output_language:"en",language:"en"},headers:{"x-rapidapi-host":o.e,"x-rapidapi-key":o.c,"Content-Type":"application/json"}},h=JSON.parse(JSON.stringify(f)),b=JSON.parse(JSON.stringify(f));h.params.type="movie",b.params.type="series";var p=[],g=[],j=function(){p.length=0,g.length=0},m=function(){return j(),c.a.request(l).then((function(e){return e.data.results.filter((function(e){return"movie"===e.vtype?p.push(e):"series"===e.vtype&&g.push(e),"ok"})),e})).catch((function(e){throw console.error(e),a(e),e}))},v=function(e,t){return c.a.request(e).then((function(e){return e.data.results.filter((function(e){return t.push(e),"ok"})),e})).catch((function(e){throw console.error(e),e}))},O=function(e,t){return c.a.get(e).then((function(e){return console.log(e),e.data.results.filter((function(e){return t.push(e),"ok"})),e})).catch((function(e){throw console.error(e),e}))},x=function(e,t){return j(),"prime"===e&&(h.params.service="prime",b.params.service="prime"),"hbo"===e&&(h.params.service="hbo",b.params.service="hbo"),h.params.country=t,b.params.country=t,h.params.page=Object(r.a)(1,50).toString(),b.params.page=Object(r.a)(1,50).toString(),console.log(h),c.a.all([v(b,g),v(h,p)]).then(c.a.spread((function(){return"ok"}))).catch((function(e){throw console.error(e),a(e),e}))},y=function(e){j();var t=Object(r.a)(1,50).toString(),n="https://api.themoviedb.org/3/movie/top_rated?api_key="+o.g+"&language=en-US&page="+t+"&region="+e,i="https://api.themoviedb.org/3/tv/top_rated?api_key="+o.g+"&language=en-US&page="+t;return c.a.all([O(n,p),O(i,g)]).then(c.a.spread((function(){return"ok"}))).catch((function(e){throw console.error(e),a(e),e}))},w=function(e,t){return"netflix"===t?{id:e.id,title:e.title,year:e.year,img:e.img,desc:e.synopsis,rating:e.imdbrating}:"themoviedb"===t?{id:e.id,title:e.name||e.title,year:e.first_air_date||e.release_date,img:"https://image.tmdb.org/t/p/w300"+e.backdrop_path,desc:e.overview,rating:e.vote_average}:{id:e.tmdbID,title:e.originalTitle,year:e.year,img:Object.values(e.backdropURLs)[0],desc:e.overview,rating:e.imdbRating}}}}]);
//# sourceMappingURL=18.7b0e7294.chunk.js.map